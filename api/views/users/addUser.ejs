<%- include('../partials/header'); %>
    <%- include('../partials/nav'); %>

        <div class="container">

            <div class="container mx-auto w-50" id="res">
                <h3>Vous pouves vous registrer ici</h3>
                <div id='info-nav' class="d-none my-1">
                    <!-- d-none -->

                </div>
                <form action="" method="POST" id="userRegister" enctype="multipart/form-data">

                    <div class="input-group mb-3">
                        <span class="input-group-text" id="nom-utilisateur-label">Nom d'Utilisateur</span>
                        <input required type="text" name="nom" class="form-control" placeholder="votre nom utilisateur"
                            aria-label="Username" aria-describedby="nom-utilisateur-label">
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text" id="email-label">Email</span>
                        <input required type="email" name="email" class="form-control" placeholder="email"
                            aria-label="Username" aria-describedby="email-label">
                    </div>
                    <div class="input-group mb-3" id="passGroup">
                        <span class="input-group-text" id="mdp-label">mot de pass</span>
                        <input required type="password" name="password" class="form-control" placeholder="mot de pass"
                            aria-label="Username" aria-describedby="mdp-label">
                    </div>
                    <div class="input-group mb-3">
                        <button class="btn btn-outline-secondary" type="submit" id="button-label">Button</button>

                    </div>
                </form>
            </div>

        </div>
        </div>



        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <script>


            document.getElementById('userRegister').addEventListener('submit', (e) => {
                e.preventDefault();

                const formData = new FormData(e.target)

                fetch('/api/register', {
                    method: 'POST',
                    body: formData
                }).then(response => response.json()).then(data => {
                    console.log(data);
                }).catch(error => {
                    console.error('error : ', error);
                })
            })


        </script>
        <%- include('../partials/footer'); %>